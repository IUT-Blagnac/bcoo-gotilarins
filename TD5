@startuml

autonumber
hide footbox
participant Cli as "Client"
participant Cser as "Caissier"
participant Cse as "Caisse"
participant Tap as "Tapis"
participant Art as "a:Article"
participant Banq as "Banque"

Cli -> Cser : arriver
activate Cser
Cli -> Tap : deposerArticles
activate Tap

loop "Pour chaque article a"
  Cser -> Tapis : prendreArticle
  Cser -> Cse : scan(a)
  activate Cse
  Cse --> Art : getPrix(a)
  Cse --> Art : getLibellé(a)

  opt "Quantité > 1"
    Cser --> Cse : saisir(Qté)
  end
Cse --> Cli : prix et libelé
Cse --> Cser : prix et libelé
end

Cser -> Cse : fin

Cse --> Cli : montant total
Cse --> Cser : montant total
Cser --> Cli : annonce montant total
opt "Paiement en Liquide"
  Cser --> Cli : encaisser
  Cse --> Cser : afficher montant à rendre
end
opt "Paiement par Chèque"
  Cser --> Cli : saisie num carte ID
end
opt "Paiement par Carte de crédit"
  Cse --> Banq : demande autorisation
end
Cse --> Cse : enregistrer vente
Cser --> Cli : donner le ticket


@enduml
