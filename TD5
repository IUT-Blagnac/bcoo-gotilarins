@startuml

autonumber
hide footbox
participant Cli as "Client"
participant Cser as "Caissier"
participant Cse as "Caisse"
participant Tap as "Tapis"
participant Art as "a:Article"

participant Imp as "Imprimante"

Cli -> Cser : arriver
activate Cser
Cli -> Tap : deposerArticles
activate Tap

loop "Pour chaque article a"
  Cser -> Tapis : prendreArticle
  Cser -> Cse : scan(a)
  activate Cse
  Cse --> Art : getPrix(a)
  Cse --> Art : getLibellé(a)

  opt "Quantité > 1"
    Cser --> Cse : saisir(Qté)
  end
Cse --> Cli : prix et libelé
Cse --> Cser : prix et libelé
end

Cser -> Cse : fin

Cse --> Cli : montant total
Cse --> Cser : montant total
Cser --> Cli : annonce montant total
Cli --> Cser : payer
Cser --> Cli : encaisser
Cse --> Cser : afficher montant à rendre
Cser --> Cli : rendre la monnaie
Cse --> Cse : enregistrer vente
Cse --> Imp : Imprimer
Cser -> Imp : Prendre le ticket
Cser --> Cli : donner le ticket


@enduml
